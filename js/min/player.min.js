head.ready(function(){function t(t,e){var i,n,a;return{get:function(){return a?void 0:t.apply(this,arguments)},set:function(){clearTimeout(i),clearTimeout(n);var t=this,p=arguments;a=!0,i=setTimeout(function(){e.apply(t,p),n=setTimeout(function(){a=!1},30)},0)}}}function e(t,e){for(var i=t.length,n=-1,a=0,p=0,o=0;i>o;o++)if(e>=(a=t.start(o))&&e<=(p=t.end(o))){n=o;break}return[n,a,p]}window.webshim&&!function(){webshim.setOptions("mediaelement",{replaceUI:"auto"}),webshim.setOptions({types:"range"}),webshim.setOptions("extendNative",!0),webshim.polyfill("mediaelement forms forms-ext")}(),jQuery(function(i){i("div.player").each(function(){var n=this,a=t(function(){i("input.time-slider",n).prop("value",i.prop(this,"currentTime"))},function(){try{i("video, audio",n).prop("currentTime",i.prop(this,"value"))}catch(t){}}),p=t(function(){i("input.volume-slider",n).prop("value",i.prop(this,"volume"))},function(){i("video, audio",n).prop("volume",i.prop(this,"value"))});i("video, audio",this).bind("durationchange updateMediaState",function(){var t=i.prop(this,"duration");t&&(i("input.time-slider",n).prop({max:t,disabled:!1}),i("span.duration",n).text(t))}).bind("progress updateMediaState",function(){var t=i.prop(this,"buffered");t&&t.length&&(t=e(t,i.prop(this,"currentTime")),i("span.progress",n).text(t[2]))}).bind("timeupdate",function(){i("span.current-time",n).text(i.prop(this,"currentTime"))}).bind("timeupdate",a.get).bind("emptied",function(){i("input.time-slider",n).prop("disabled",!0),i("span.duration",n).text("--"),i("span.current-time",n).text(0),i("span.network-state",n).text(0),i("span.ready-state",n).text(0),i("span.paused-state",n).text(i.prop(this,"paused")),i("span.height-width",n).text("-/-"),i("span.progress",n).text("0")}).bind("waiting playing loadedmetadata updateMediaState",function(){i("span.network-state",n).text(i.prop(this,"networkState")),i("span.ready-state",n).text(i.prop(this,"readyState"))}).bind("play pause",function(){i("span.paused-state",n).text(i.prop(this,"paused"))}).bind("volumechange",function(){var t=i.prop(this,"muted");i("span.muted-state",n).text(t),i("input.muted",n).prop("checked",t),i("span.volume",n).text(i.prop(this,"volume"))}).bind("volumechange",p.get).bind("play pause",function(){i("span.paused-state",n).text(i.prop(this,"paused"))}).bind("loadedmetadata updateMediaState",function(){i("span.height-width",n).text(i.prop(this,"videoWidth")+"/"+i.prop(this,"videoHeight"))}).each(function(){i.prop(this,"readyState")>i.prop(this,"HAVE_NOTHING")&&i(this).triggerHandler("updateMediaState")}),i("input.time-slider",n).bind("input",a.set).prop("value",0),i("input.volume-slider",n).bind("input",p.set),i("input.play",n).bind("click",function(){i("video, audio",n)[0].play()}),i("input.pause",n).bind("click",function(){i("video, audio",n)[0].pause()}),i("input.muted",n).bind("click updatemuted",function(){i("video, audio",n).prop("muted",i.prop(this,"checked"))}).triggerHandler("updatemuted"),i("input.controls",n).bind("click",function(){i("video, audio",n).prop("controls",i.prop(this,"checked"))}).prop("checked",!0),i("select.load-media",n).bind("change",function(){var t=i("option:selected",this).data("src");t&&(i("video, audio",n).removeAttr("src").find("source").remove().end().each(function(){var e=this;"string"==typeof t&&(t=[t]),i.each(t,function(t,n){"string"==typeof n&&(n={src:n}),i(document.createElement("source")).attr(n).appendTo(e)})})[0].load(),i("video, audio",n)[0].play())}).prop("selectedIndex",0)})})});